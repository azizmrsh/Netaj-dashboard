## [2025-09-11] #001 — تهيئة مشروع Laravel 11 مع Filament v3 — بواسطة Osaid
- ما تم إنجازه
  - إنشاء مشروع Laravel v11 جديد باسم "netaj-admin" داخل المسار: D:\Netaj-dashboard\netaj-admin.
  - تثبيت Filament v3 وتشغيل أمر التثبيت `filament:install --panels` الذي أنشأ لوحة افتراضية على المسار /admin وملف المزود AdminPanelProvider.
  - إنشاء مستخدم Super Admin للدخول إلى اللوحة (البريد: admin@example.com، كلمة المرور: password).
  - تشغيل السيرفر المحلي على الرابط: http://127.0.0.1:8080 والوصول إلى لوحة التحكم عبر: http://127.0.0.1:8080/admin.
- ملاحظات/مشكلات
  - لا توجد مشكلات تُذكر أثناء الإعداد، تم كل شيء بنجاح.
  - ملاحظة: في بيئات الإنتاج قد تحتاج لضبط صلاحيات الوصول للمستخدمين قبل إتاحة اللوحة للجميع.
- النتيجة
  - تم تجهيز مشروع Laravel 11 وتشغيل لوحة Filament بنجاح، ويمكن تسجيل الدخول والبدء ببناء الموارد (Resources) والصفحات.

## [2025-09-11] #002 — إنشاء Resource لإدارة المستخدمين (UserResource) — بواسطة Osaid
- ما تم إنجازه
  - إنشاء مورد Filament للمستخدم عبر الأمر: `php artisan make:filament-resource User --generate --panel=admin`.
  - تم توليد الملفات:
    - `app/Filament/Resources/UserResource.php`
    - `app/Filament/Resources/UserResource/Pages/{ListUsers.php, CreateUser.php, EditUser.php}`
  - أصبح الآن بالإمكان إضافة/تعديل/عرض المستخدمين من واجهة لوحة الإدارة عبر: `/admin` → Resources → Users → Create.
- ملاحظات/مشكلات
  - لا توجد مشكلات، التوليد تم بنجاح، واللوحة تعمل على: `http://127.0.0.1:8080/admin`.
- النتيجة
  - تتوفر واجهة كاملة لإدارة المستخدمين (CRUD) داخل لوحة Filament، مما يتيح إضافة مستخدمين جدد بسهولة.

## [2025-09-11] #003 — تثبيت وإعداد إضافة Filament Shield — بواسطة Osaid
- ما تم إنجازه
  - تثبيت Shield وتسجيله في لوحة admin عبر الأمر: `php artisan shield:install admin`.
  - تأكيد تسجيل الإضافة ضمن المزود: `App/Providers/Filament/AdminPanelProvider.php` داخل المصفوفة `plugins` بإضافة: `FilamentShieldPlugin::make()`.
  - نشر وتهيئة ملف الضبط: `config/filament-shield.php` (تفعيل `super_admin` بالاسم `super_admin`).
  - التأكد من إضافة Trait `HasRoles` إلى نموذج المستخدم `App\Models\User` (موجود).
  - إنشاء مستخدم إداري وتجهيزه:
    - إنشاء المستخدم: `php artisan make:filament-user --name="Super Admin" --email="admin@example.com" --password="password"`.
    - ترقية المستخدمين إلى Super Admin:
      - `php artisan shield:super-admin --user=1 --panel=admin` (bilal@bituseal.com)
      - `php artisan shield:super-admin --user=2 --panel=admin` (admin@example.com)
- ملاحظات/مشكلات
  - واجهنا خطأ قاعدة البيانات: Unknown collation: `utf8mb4_0900_ai_ci` عند تنفيذ أوامر Super Admin.
  - الحل: إضافة التالي إلى ملف `.env` ثم مسح الكاش:
    - `DB_CHARSET=utf8mb4`
    - `DB_COLLATION=utf8mb4_unicode_ci`
    - تنفيذ: `php artisan config:clear` ثم `php artisan cache:clear` (في PowerShell لا يعمل الربط بـ &&).
- النتيجة
  - تم تثبيت Filament Shield وتهيئته بنجاح، وحساب `admin@example.com` يمتلك صلاحيات Super Admin، واللوحة تعمل على: `http://127.0.0.1:8080/admin`.

# [2025-09-11] #004 — تهيئة مستخدم مسؤول افتراضي بدون 2FA — بواسطة Osaid

## ما تم إنجازه
- تنفيذ أمر إسقاط جميع الجداول ثم إعادة إنشاءها: `php artisan migrate:fresh`.
- تثبيت وإعداد Breezy سابقًا، ثم متابعة الإعداد بعد التفريغ.
- إنشاء/تحديث مستخدم مسؤول:
  - البريد: `admin@example.com`
  - الاسم: `Admin`
  - كلمة المرور: `password` (تم حفظها مشفّرة عبر Hash::make)
  - بدون تفعيل المصادقة الثنائية 2FA.
- منح المستخدم صلاحيات Super Admin عبر Filament Shield: `php artisan shield:super-admin`.

## ملاحظات/مشكلات
- بعد `migrate:fresh` تم حذف جميع البيانات السابقة، لذا أُعيد إنشاء المستخدم من الصفر.
- عند محاولة تمرير البريد كوسيط لأمر super-admin ظهر تنبيه بأن الأمر لا يقبل وسائط، فتم تشغيله بدون وسيط وتمت الترقية بنجاح.

## النتيجة
- أصبح لدينا مستخدم مسؤول جاهز لتسجيل الدخول:
  - الدخول: http://127.0.0.1:8080/admin
  - البريد: admin@example.com
  - كلمة المرور: password
- لا يوجد 2FA مفعل لهذا المستخدم حسب الطلب.

## [2025-09-11] #005 — إضافة صفحة My Profile عبر Breezy وربطها بالقائمة — بواسطة Osaid

### ما تم إنجازه
- إضافة تكامل Breezy إلى لوحة Filament ضمن المزود: `App\Providers\Filament\AdminPanelProvider` عبر `BreezyCore::make()`.
- تفعيل صفحة My Profile وربطها بكل من:
  - قائمة المستخدم العلوية (User Menu) بعنوان: My Profile.
  - القائمة الجانبية (Navigation) ضمن مجموعة: Settings.
- تفريغ الكاش لضمان ظهور التعديلات: `php artisan optimize:clear`.
- التحقق من الواجهة على: http://127.0.0.1:8080/admin — الرابط ظهر، مع ملاحظة إعادة توجيه داخلية لـ Livewire لا تؤثر على الوظائف الأساسية.

### المخرجات/التعديلات في الشفرة
- استيراد الصنف: `use Jeffgreco13\FilamentBreezy\BreezyCore;`
- ضمن `->plugins([])`: إضافة:
```
BreezyCore::make()
    ->myProfile(
        shouldRegisterUserMenu: true,
        userMenuLabel: 'My Profile',
        shouldRegisterNavigation: true,
        navigationGroup: 'Settings',
        hasAvatars: false,
        slug: 'my-profile'
    )
```

### ملاحظات/مشكلات
- رُصد خطأ متقطع في المتصفح أثناء إعادة توجيه Livewire إلى `/admin/users` (net::ERR_ABORTED)، وهذا لا يمنع ظهور My Profile أو عملها.
- إن رغبت بدعم صور الملف الشخصي (avatars)، نحتاج إضافة عمود `avatar_url` للهجرة وتحديث `User` وفقًا لتوثيق Breezy.

### النتيجة
- أصبحت صفحة My Profile متاحة عبر قائمة المستخدم والقائمة الجانبية داخل لوحة Filament، دون تمكين 2FA.